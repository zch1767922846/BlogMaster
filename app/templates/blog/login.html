{% extends 'blog/base.html' %}
{% block style %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static',filename='css/login.css') }}" media="all">
    <style>
        .login-btn {
            color: #ffffff !important; /* 保留原有白色字体样式 */
        }
        .login-btn .btn {
            color: #ffffff !important;
        }
        /* 新增：保持登录复选框样式适配，不影响其他元素 */
        .remember-checkbox {
            margin-right: 5px;
            vertical-align: middle;
            cursor: pointer;
        }
        .login-tip {
            vertical-align: middle;
            cursor: pointer;
        }
    </style>
{% endblock %}
{% block main %}
    {{ super() }}
    <div class="main-body">
        <div class="login-main">
            <div class="login-top">
                <span>用户登录</span>
                <span class="bg1"></span>
                <span class="bg2"></span>
            </div>


            <!-- 登录表单 -->
            <form class="layui-form login-bottom" method="POST" action="{{ url_for('bp_blog.login') }}" name="login">
                {{ form.hidden_tag() }}  <!-- CSRF保护 -->
                <div class="center">
                    <div class="item">
                        <span class="icon icon-2"></span>
                        {{ form.username(class="form-control", placeholder="请输入用户名") }}
                        {% for error in form.username.errors %}
                    </div>

                    <span class="text-danger">{{ error }}</span>
                    {% endfor %}
                </div>
                <div class="item">
                    <span class="icon icon-3"></span>
                    {{ form.password(class="form-control", placeholder="请输入密码") }}
                    {% for error in form.password.errors %}
                        <span class="text-danger">{{ error }}</span>
                    {% endfor %}
                    <span class="bind-password icon icon-4"></span>
                </div>

                <!-- 修改：将保持登录改为可勾选复选框 -->
                <div class="tip">
                    <input type="checkbox" name="remember" id="remember" class="remember-checkbox">
                    <label for="remember" class="login-tip">保持登录</label>
<!--                    <a href="javascript:" class="forget-password">忘记密码？</a>-->
                </div>
                <div class="layui-form-item" style="text-align:center; width:100%;height:100%;margin:0px;">
                    <button type="submit" class="login-btn">{{ form.submit(class="btn") }}</button>
                </div>
            </form>
            <div class="tip" style="text-align: center; margin-top: 20px;">
                <span>没有账户？</span>
                <a href="{{ url_for('bp_blog.blog_register') }}" class="forget-password">立即注册</a>
            </div>
        </div>
    </div>
{% endblock %}